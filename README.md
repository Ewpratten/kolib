# kolib
Software library for writing programs for Kobo products

## Setup

The following tools are required:

```
sudo dpkg --add-architecture armhf
sudo apt-get update
sudo apt-get install crossbuild-essential-armhf cross-gcc-dev g++-arm-linux-gnueabihf gcc-arm-linux-gnueabihf nasm
sudo apt-get install build-essential gperf help2man bison texinfo flex gawk autoconf automake wget curl file libncurses-dev
```

A custom toolchain is also needed, and can be generated by running
```
cd external/crosstool-ng
mkdir bin
./bootstrap
./configure --prefix=$(pwd)/bin
make
make install
cd ../..
./external/crosstool-ng/bin/bin/ct-ng arm-kobo-linux-gnueabihf
./external/crosstool-ng/bin/bin/ct-ng build
```

## Publishing the toolchain

```sh
docker build -t kolib_toolchain toolchain
```


# Compiling

```sh
mkdir build
./toolchain/cmake -Bbuild -H.
./toolchain/make
```